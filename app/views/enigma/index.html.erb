<span> <h4 style="color: whitesmoke; font-family: myFont"> <%= link_to "proposed enigma to solve:", root_path %> <br>attach your CV</h4> </span>

<div id = "container">
    <div class="periphrastic">necesse est delere. <br /> sequuntur viae.</div>
    <div class="row row_number">01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</div>
    <div class="col col_letter">A B C D E F G H I J K L M NO P Q R S T U V W X Y </div>
    <table id="pixel_canvas"></table>

    <div class="route">
      <div class="r1"><b class="bold">4b </b> 6 7 9 A B F 11 13 15 16 18 19</div>
      <div class="r2"><b class="bold">4f </b> 1 7 9 B C F 11 12 13 14 15 17 19</div>
      <div class="r3"><b class="bold">57 </b> 1 3 4 5 7 D 15 16 17 19</div>
    </div>
  </div>

  <form>
    <input type="submit" value="RESET GRID">
  </form>

  <%= javascript_include_tag "grid" %>

  <script type="text/javascript" async>
    var canvas = document.getElementById("pixel_canvas");

    makeGrid();

    function makeGrid() {
        for (let r=0; r<25; r++){
            const row = canvas.insertRow(r);
            for (let c=0; c<25; c++){
                const cell = row.insertCell(c);
                cell.addEventListener("click", fillSquare);
                cell.filled = false;
            }
        }
    }

    function clearGrid(){
        while (canvas.firstChild){
             canvas.removeChild(canvas.firstChild);
        }
    }
    // alternative code:
    // while (table.rows.length > 0) {
    //  table.deleteRow(0);
    // }

    function fillSquare () {
      if (!this.filled) {
        this.setAttribute("style", `background-color: white;`);
        this.filled = true;
      }
      else {
        this.setAttribute("style", `background-color: black;`);
        this.filled = false;
      }

      console.log(this.isClicked);
    }

  </script>
